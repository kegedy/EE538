Version 4
SHEET 1 880 680
WIRE -32 48 -64 48
WIRE 0 48 -32 48
WIRE 112 48 80 48
WIRE 128 48 112 48
WIRE 160 48 128 48
WIRE 368 48 240 48
WIRE -64 96 -64 48
WIRE 368 128 368 48
WIRE 128 176 128 48
WIRE 160 176 128 176
WIRE 368 192 368 128
WIRE 368 192 224 192
WIRE 160 208 80 208
WIRE 80 272 80 208
FLAG -352 -48 0
FLAG -496 -48 0
FLAG -496 -128 2.5V
FLAG -352 -128 -2.5V
FLAG 192 160 2.5V
FLAG 192 224 -2.5V
FLAG 80 352 0
FLAG -64 176 0
FLAG 368 128 vout
FLAG -32 48 vin
FLAG 112 48 vm
SYMBOL Opamps\\UniversalOpamp2 192 192 R0
SYMATTR InstName U1
SYMATTR SpiceModel level.1
SYMATTR Value2 Avol=10Meg GBW=10Meg Slew=10Meg
SYMBOL res 96 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 -56 152 VTop 2
SYMATTR InstName R1
SYMATTR Value {wc(1k, tol, 0)}
SYMATTR SpiceLine tol=0.1
SYMBOL res 256 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 -61 -133 VTop 2
SYMATTR InstName R2
SYMATTR Value {wc(10k, tol, 1)}
SYMBOL voltage -352 -144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value -2.5
SYMBOL voltage -496 -144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 2.5
SYMBOL voltage 80 256 R0
WINDOW 3 24 44 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 0
SYMATTR InstName V3
SYMBOL voltage -64 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value .1
TEXT -320 416 Left 2 !.op
TEXT -320 456 Left 2 !.temp 25
TEXT -320 496 Left 2 !.param tol=0.001
TEXT 184 368 Left 2 !.param R1=1k
TEXT 184 416 Left 2 !.param R2=10k
TEXT -320 536 Left 2 !.step param Run 1 100 1
TEXT -320 584 Left 2 !.func wc(nom,tol,index) if(run==numruns,nom,if(binary(run,index),nom*(1+tol),nom*(1-tol)))
TEXT -320 624 Left 2 !.func binary(run,index) floor(run/(2**index))-2*floor(run/(2**(index+1)))
TEXT 184 456 Left 2 !.param numruns=100
